<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.doglovers.abandog.dao.MemberDAO">
	
	<select id="selectDogListNum" resultType="int">
		SELECT	count(*)
		FROM	dog
	</select>
	
	<select id="selectDogListNum2" resultType="int">
		SELECT	count(*)
		FROM	dog
		<include refid="search"></include>
	</select>

	<select id="selectDogList" resultType="com.doglovers.abandog.dto.DogDTO">
		SELECT * FROM dog
		<include refid="search"></include>
		LIMIT #{startList}, #{listSize}
	</select>
	
	<sql id="search">
		<choose>
			<when test="gender == 0">
				<choose>
					<when test="neuter == 0">
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								WHERE careAddr like '강원도%'
							</when>
							<when test="location == 2">
								WHERE careAddr like '경기도%'
							</when>
							<when test="location == 3">
								WHERE careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								WHERE careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								WHERE careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								WHERE careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								WHERE careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								WHERE careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								WHERE careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								WHERE careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								WHERE careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								WHERE careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								WHERE careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								WHERE careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								WHERE careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								WHERE careAddr like '충청남도%'
							</when>
							<otherwise>
								WHERE careAddr like '충청북도%'
							</otherwise>
						</choose>
					</when>
					<when test="neuter == 1">
						WHERE neuter = 'Y'
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</when>
					<otherwise>
						WHERE neuter = 'N'
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</otherwise>
				</choose>
			</when>
			<when test="gender == 1">
				WHERE sex = 'F'
				<choose>
					<when test="neuter == 0">
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</when>
					<when test="neuter == 1">
						AND neuter = 'Y'
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</when>
					<otherwise>
						AND neuter = 'N'
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</otherwise>
				</choose>
			</when>
			<otherwise>
				WHERE sex = 'M'
				<choose>
					<when test="neuter == 0">
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</when>
					<when test="neuter == 1">
						AND neuter = 'Y'
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</when>
					<otherwise>
						AND neuter = 'N'
						<choose>
							<when test="location == 0">
								
							</when>
							<when test="location == 1">
								AND careAddr like '강원도%'
							</when>
							<when test="location == 2">
								AND careAddr like '경기도%'
							</when>
							<when test="location == 3">
								AND careAddr like '경상남도%'
							</when>
							<when test="location == 4">
								AND careAddr like '경상북도%'
							</when>
							<when test="location == 5">
								AND careAddr like '광주광역시%'
							</when>
							<when test="location == 6">
								AND careAddr like '대구광역시%'
							</when>
							<when test="location == 7">
								AND careAddr like '대전광역시%'
							</when>
							<when test="location == 8">
								AND careAddr like '부산광역시%'
							</when>
							<when test="location == 9">
								AND careAddr like '서울특별시%'
							</when>
							<when test="location == 10">
								AND careAddr like '세종특별자치시%'
							</when>
							<when test="location == 11">
								AND careAddr like '울산광역시%'
							</when>
							<when test="location == 12">
								AND careAddr like '인천광역시%'
							</when>
							<when test="location == 13">
								AND careAddr like '전라남도%'
							</when>
							<when test="location == 14">
								AND careAddr like '전라북도%'
							</when>
							<when test="location == 15">
								AND careAddr like '제주특별자치도%'
							</when>
							<when test="location == 16">
								AND careAddr like '충청남도%'
							</when>
							<otherwise>
								AND careAddr like '충청북도%'
							</otherwise>
						</choose>
					</otherwise>
				</choose>
			</otherwise>
		</choose>
	</sql>
	
	<select id="selectDog" resultType="com.doglovers.abandog.dto.DogDTO">
		SELECT * FROM dog
		WHERE cid = #{cid}
	</select>
	
</mapper>